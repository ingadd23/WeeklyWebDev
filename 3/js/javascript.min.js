$(function(){var t,n=$("#menu a"),e=n.map(function(){var t=$(this.hash);if(t.length)return t});lastSection=e[e.length-1];var o=lastSection&&lastSection.length?lastSection[0].id:"";$(window).scroll(function(){function i(){return window.pageYOffset||document.documentElement.scrollTop}var s=window.innerHeight,l=$("#top_footer").height()+100+$("footer").height()+60,a=$(this).scrollTop()+51,r=e.map(function(){if("top_footer"==o){if(s>l){if($(this).offset().top<a)return this}else if($(this).offset().top<a)return this}else if($(this).offset().top<a)return this});r=r[r.length-1];var f=r&&r.length?r[0].id:"";t!==f&&(t=f,n.parent().removeClass("active").end().filter("[href='#"+f+"']").parent().addClass("active"));var c=100,h=i();h>=c?$("nav").addClass("nav_scroll"):$("nav").removeClass("nav_scroll")}),n.on("click",function(t){if(""!==this.hash){t.preventDefault();var n=this.hash;$("#menu").removeClass("in"),$("#menu_button").removeClass("open"),$("html, body").animate({scrollTop:$(n).offset().top-50},900,function(){})}})}),$(function(){$("#menu_button").click(function(){$(this).toggleClass("open")}),$("#menu_button").click(function(){$("#menu").toggleClass("in")})});