$(function(){var t,n=$("#menu a"),e=n.map(function(){var t=$(this.hash);if(t.length)return t});$(window).scroll(function(){function o(){return window.pageYOffset||document.documentElement.scrollTop}var i=$(this).scrollTop()+51,s=e.map(function(){if($(this).offset().top<i+600)return this});s=s[s.length-1];var l=s&&s.length?s[0].id:"",r=window.innerHeight,a=$("#top_footer").height()+100+$("footer").height()+60,f=e.map(function(){if("top_footer"==l){if(r>a){if($(this).offset().top<i+600)return this}else if($(this).offset().top<i)return this}else if($(this).offset().top<i)return this});f=f[f.length-1];var u=f&&f.length?f[0].id:"";t!==u&&(t=u,n.parent().removeClass("menu__li--active").end().filter("[href='#"+u+"']").parent().addClass("menu__li--active"));var h=100,c=o();c>=h?$("nav").addClass("nav--scroll"):$("nav").removeClass("nav--scroll")}),$("a").on("click",function(t){if(""!==this.hash){t.preventDefault();var n=this.hash;$("#menu").removeClass("menu--in"),$("#menu-button").removeClass("menu-button--open"),$("html, body").animate({scrollTop:$(n).offset().top-50},900,function(){})}})}),$(function(){$("#menu-button").click(function(){$(this).toggleClass("menu-button--open")}),$("#menu-button").click(function(){$("#menu").toggleClass("menu--in")})});