$(function(){var t,n=$("#menu a"),e=n.map(function(){var t=$(this.hash);if(t.length)return t});$(window).scroll(function(){function o(){return window.pageYOffset||document.documentElement.scrollTop}var i=$(this).scrollTop()+51,s=e.map(function(){if($(this).offset().top<i+600)return this});s=s[s.length-1];var r=s&&s.length?s[0].id:"",f=window.innerHeight,a=$("#top_footer").height()+100+$("footer").height()+60,l=e.map(function(){if("top_footer"==r){if(f>a){if($(this).offset().top<i+600)return this}else if($(this).offset().top<i)return this}else if($(this).offset().top<i)return this});l=l[l.length-1];var h=l&&l.length?l[0].id:"";t!==h&&(t=h,n.parent().removeClass("active").end().filter("[href='#"+h+"']").parent().addClass("active"));var u=100,c=o();c>=u?$("nav").addClass("nav_scroll"):$("nav").removeClass("nav_scroll")}),n.on("click",function(t){if(""!==this.hash){t.preventDefault();var n=this.hash;$("#menu").removeClass("in"),$("#menu_button").removeClass("open"),$("html, body").animate({scrollTop:$(n).offset().top-50},900,function(){})}})}),$(function(){$("#menu_button").click(function(){$(this).toggleClass("open")}),$("#menu_button").click(function(){$("#menu").toggleClass("in")})});